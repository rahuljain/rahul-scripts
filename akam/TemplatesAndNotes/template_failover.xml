<match:time start="743">
  <forward:availability>
    <health-detect>
      <status>on</status>
      <bad-ip-retry-interval>30s</bad-ip-retry-interval>
      <badip-retry-count>2</badip-retry-count>
    </health-detect>
    <max-reconnects>3</max-reconnects>
  </forward:availability>
</match:time>
<match:response.status value="000 500 503 504">
  <!-- Fail-action - Custom Error Page -->
  <forward:availability.fail-action2>
    <status>on</status>
    <request-host>deals-error.bestbuy.com</request-host>
    <path>/maintenance.html</path>
    <type>serve-alternate</type>
  </forward:availability.fail-action2>
</match:response.status>
<match:response.status value="403">
  <!-- Fail-action - Try Alternate Origin -->
  <forward:availability.fail-action2>
    <status>on</status>
    <request-host>deals-error.bestbuy.com</request-host>
    <type>serve-alternate</type>
    <preserve-query-string>on</preserve-query-string>
  </forward:availability.fail-action2>
</match:response.status>
<match:response.status value="404">
  <!-- Fail-action - Redirect Option - Absolute URL -->
  <forward:availability.fail-action2>
    <status>on</status>
    <request-host>deals-error.bestbuy.com</request-host>
    <path>/maintenance.html</path>
    <type>serve-302</type>
    <preserve-query-string>on</preserve-query-string>
    <proto>HTTP</proto>
  </forward:availability.fail-action2>
</match:response.status>
<!--[START] Test failover action -->
<!-- Break Forward Connection -->
<match:uri.query-string name="server-failure" name-case="off" value="true" value-case="off">
  <forward:availability.health-detect.break-forward-connect>on</forward:availability.health-detect.break-forward-connect>
  <cache:bypass>on</cache:bypass>
</match:uri.query-string>
<!--[END] Test failover action -->
